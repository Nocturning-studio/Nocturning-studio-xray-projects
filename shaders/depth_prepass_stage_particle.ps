////////////////////////////////////////////////////////////////////////////////
// Created: 06.01.2025
// Author: Deathman
// Nocturning studio for NS Project X
////////////////////////////////////////////////////////////////////////////////
#include "common.xrh"
#include "alpha_test.xrh"
////////////////////////////////////////////////////////////////////////////////
struct Interpolators
{
    float4 HomogeniousPosition : POSITION;
    float2 UV : TEXCOORD0;
    float3 Position : TEXCOORD1;
};
///////////////////////////////////////////////////////////////////////////////////
float4 main(Interpolators Input) : COLOR0
{
    float Opacity = tex2D(s_base, Input.UV).a;

    calc_alpha_test(Input.UV, Opacity);

    //return 1;
	
	//TODO: Add depth buffer prepass
	return Input.Position.z;
}
///////////////////////////////////////////////////////////////////////////////////