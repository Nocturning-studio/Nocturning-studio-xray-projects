///////////////////////////////////////////////////////////////////////////////////
// Created: 10.01.2025
// Author: Deathman
// Nocturning studio for NS Project X
///////////////////////////////////////////////////////////////////////////////////
#include "common.xrh"
///////////////////////////////////////////////////////////////////////////////////
#define SAMPLES_COUNT 4
///////////////////////////////////////////////////////////////////////////////////
uniform sampler2D s_dilation_map;
uniform float4 image_resolution;
///////////////////////////////////////////////////////////////////////////////////
float4 main(float2 TexCoords : TEXCOORD0) : COLOR0
{
    float2 Result = NULL;
    
    for (int i = -SAMPLES_COUNT / 2; i < SAMPLES_COUNT / 2; i++)
    {
        Result += tex2Dlod0(s_dilation_map, float2(i, 0) * image_resolution.zw + TexCoords).rg;
    }
    
    Result /= SAMPLES_COUNT;
    
    return float4(Result, NULL, NULL);
}
///////////////////////////////////////////////////////////////////////////////////